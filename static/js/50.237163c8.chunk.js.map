{"version":3,"sources":["layouts/courses/containers/course-settings.js"],"names":["COURSE_UPDATE","gql","CourseSettings","state","name","email","open","submittedName","submittedEmail","handleChange","e","value","setState","handlePublish","a","props","mutate","input","result","console","log","handleDeleteModalOpen","handleDeleteModalClose","handleSubmit","classes","this","course","session","className","root","onSubmit","charset","content","rel","href","hero","container","justify","direction","header","elevation","headerBody","variant","align","gutterBottom","spacing","item","xs","style","backgroundColor","dangerZone","onClick","color","margin","onClose","display","justifyContent","Component","withGraphql","graphql","withStyles","theme","flexGrow","padding","unit","courseMode","fontSize","marginRight","paddingLeft","heroUnit","palette","background","paper","heroContent","maxWidth","heroButtons","marginTop","width"],"mappings":"2fAeA,IAAMA,E,MAAgBC,GAAH,KA0CbC,E,4MACJC,MAAQ,CACNC,KAAM,GACNC,MAAO,GACPC,MAAM,EACNC,cAAe,GACfC,eAAgB,I,EAGlBC,aAAe,SAACC,EAAD,OAAKN,EAAL,EAAKA,KAAMO,EAAX,EAAWA,MAAX,OAAsB,EAAKC,SAAL,eAAgBR,EAAOO,K,EAE5DE,c,sBAAgB,4BAAAC,EAAA,sEAEO,EAAKC,MAAMC,OAAO,CACrCC,MAAO,SAHK,OAERC,EAFQ,OAKdC,QAAQC,IAAI,WAAYF,GALV,2C,EAQhBG,sBAAwB,WACtB,EAAKT,SAAS,CACZN,MAAM,K,EAIVgB,uBAAyB,WACvB,EAAKV,SAAS,CAACN,MAAM,K,EAGvBiB,aAAe,WAAO,IAAD,EACG,EAAKpB,MAApBC,EADY,EACZA,KAAMC,EADM,EACNA,MAEb,EAAKO,SAAS,CAACL,cAAeH,EAAMI,eAAgBH,K,uDAG7C,IAEAmB,EAAWC,KAAKV,MAAhBS,QACAE,EAAUC,UAAVD,OACP,OACE,0BAAME,UAAWJ,EAAQK,KAAMC,SAAUL,KAAKF,cAC5C,kBAAC,IAAD,KACE,0BAAMQ,QAAQ,UACd,0BACE3B,KAAK,WACL4B,QAAQ,0DAEV,0BAAM5B,KAAK,cAAc4B,QAAQ,iCACjC,0BAAM5B,KAAK,SAAS4B,QAAQ,cAC5B,uDACA,0BAAMC,IAAI,YAAYC,KAAK,iCAE7B,kBAAC,IAAD,CACEN,UAAWJ,EAAQW,KACnBC,WAAS,EACTC,QAAQ,SACRC,UAAU,UACV,kBAAC,IAAD,CAAOV,UAAWJ,EAAQe,OAAQC,UAAW,GAC3C,kBAAC,IAAD,CACEZ,UAAWJ,EAAQiB,WACnBC,QAAQ,KACRC,MAAM,SACNC,cAAY,GAJd,qBASJ,0BAAMhB,UAAWJ,EAAQQ,SACvB,kBAAC,IAAD,CAAMI,WAAS,EAACS,QAAS,IA2BvB,kBAAC,IAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,MAAO,CAACC,gBAAiB,YAC1C,kBAAC,IAAD,CACEP,QAAQ,KACRC,MAAM,OACNf,UAAWJ,EAAQ0B,WACnBN,cAAY,GAJd,eAOA,kBAAC,IAAD,CACEF,QAAQ,WACRS,QAAS1B,KAAKJ,sBACd2B,MAAO,CACLC,gBAAiB,MACjBG,MAAO,QACPC,OAAQ,SANZ,iBAUA,kBAAC,IAAD,CACE3B,OAAQA,EACRpB,KAAMmB,KAAKtB,MAAMG,KACjBgD,QAAS7B,KAAKH,0BAGlB,kBAAC,IAAD,CAAMwB,MAAI,EAACC,GAAI,IACb,yBACEC,MAAO,CACLO,QAAS,OACTC,eAAgB,WAChBH,OAAQ,oB,GA5HGI,aAuIvBC,EAAcC,kBAAQ3D,EAAR2D,CAAuBzD,GAE5B0D,gCA1KA,SAAAC,GAAK,MAAK,CACvB7B,QAAS,CACP8B,SAAU,EACVC,QAA8B,EAArBF,EAAMhB,QAAQmB,MAEzBC,WAAY,CACVC,SAA+B,EAArBL,EAAMhB,QAAQmB,KACxBG,YAAa,OACbC,YAAa,OACbhB,MAAO,UAETF,WAAY,CACVE,MAAO,MACPW,QAAS,QAEXM,SAAU,CACRpB,gBAAiBY,EAAMS,QAAQC,WAAWC,OAE5CC,YAAa,CACXC,SAAU,IACVrB,OAAQ,SACRU,QAAQ,GAAD,OAA0B,EAArBF,EAAMhB,QAAQmB,KAAnB,gBAAwD,EAArBH,EAAMhB,QAAQmB,KAAjD,OAETW,YAAa,CACXC,UAAgC,EAArBf,EAAMhB,QAAQmB,MAE3BnC,KAAM,CACJ6C,SAAU,IACVrB,OAAQ,SACRwB,MAAO,WA6IIjB,CAAmBF","file":"static/js/50.237163c8.chunk.js","sourcesContent":["import React, {Component} from \"react\"\nimport {Helmet} from \"react-helmet-async\"\n/* import {Can} from \"../../../components\" */\nimport {CourseModal} from \"../../../containers\"\n\nimport Button from \"@material-ui/core/Button\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Paper from \"@material-ui/core/Paper\"\nimport Typography from \"@material-ui/core/Typography\"\nimport {withStyles} from \"@material-ui/core/styles\"\n\nimport {session} from \"brownies\"\nimport {graphql} from \"react-apollo\"\nimport gql from \"graphql-tag\"\n\nconst COURSE_UPDATE = gql`\n  mutation courseUpdate($input: CourseUpdated!) {\n    courseUpdate(input: $input) {\n      id\n      courseMode\n    }\n  }\n`\n\nconst styles = theme => ({\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing.unit * 3\n  },\n  courseMode: {\n    fontSize: theme.spacing.unit * 3,\n    marginRight: \"20px\",\n    paddingLeft: \"20px\",\n    color: \"orange\"\n  },\n  dangerZone: {\n    color: \"red\",\n    padding: \"16px\"\n  },\n  heroUnit: {\n    backgroundColor: theme.palette.background.paper\n  },\n  heroContent: {\n    maxWidth: 600,\n    margin: \"0 auto\",\n    padding: `${theme.spacing.unit * 8}px 0 ${theme.spacing.unit * 6}px`\n  },\n  heroButtons: {\n    marginTop: theme.spacing.unit * 4\n  },\n  root: {\n    maxWidth: 900,\n    margin: \"0 auto\",\n    width: \"100%\"\n  }\n})\n\nclass CourseSettings extends Component {\n  state = {\n    name: \"\",\n    email: \"\",\n    open: false,\n    submittedName: \"\",\n    submittedEmail: \"\"\n  }\n\n  handleChange = (e, {name, value}) => this.setState({[name]: value})\n\n  handlePublish = async () => {\n    // publish updates course mode to live\n    const result = await this.props.mutate({\n      input: \"live\"\n    })\n    console.log(\"result: \", result)\n  }\n\n  handleDeleteModalOpen = () => {\n    this.setState({\n      open: true\n    })\n  }\n\n  handleDeleteModalClose = () => {\n    this.setState({open: false})\n  }\n\n  handleSubmit = () => {\n    const {name, email} = this.state\n\n    this.setState({submittedName: name, submittedEmail: email})\n  }\n\n  render() {\n    /* const {name, email, submittedName, submittedEmail} = this.state */\n    const {classes} = this.props\n    const {course} = session\n    return (\n      <form className={classes.root} onSubmit={this.handleSubmit}>\n        <Helmet>\n          <meta charset=\"utf-8\" />\n          <meta\n            name=\"viewport\"\n            content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"\n          />\n          <meta name=\"description\" content=\"Affordable language learning\" />\n          <meta name=\"author\" content=\"Isaac Pak\" />\n          <title>Utterzone | Settings</title>\n          <link rel=\"canonical\" href=\"https://utter.zone/settings\" />\n        </Helmet>\n        <Grid\n          className={classes.hero}\n          container\n          justify=\"center\"\n          direction=\"column\">\n          <Paper className={classes.header} elevation={1}>\n            <Typography\n              className={classes.headerBody}\n              variant=\"h4\"\n              align=\"center\"\n              gutterBottom>\n              Course Settings\n            </Typography>\n          </Paper>\n        </Grid>\n        <main className={classes.content}>\n          <Grid container spacing={24}>\n            {/* TODO: Course mode feature\n                <Grid item xs={12}>\n                  <div\n                    style={{\n                      display: \"flex\",\n                      flexDirection: \"row\",\n                      margin: \"100px 0\"\n                    }}>\n                    <Typography variant=\"h5\" align=\"left\" noWrap>\n                      Course Mode:\n                    </Typography>\n                    <Typography align=\"center\" className={classes.courseMode}>\n                      {course.courseMode}\n                    </Typography>\n                    <Button\n                      variant=\"outlined\"\n                      style={{\n                        backgroundColor: \"orange\",\n                        color: \"white\"\n                      }}\n                      onClick={this.handlePublish}>\n                      {course.courseMode === \"draft\" ? \"edit\" : \"publish\"}\n                    </Button>\n                  </div>\n                </Grid>\n\t\t\t\t\t\t\t\t*/}\n            <Grid item xs={12} style={{backgroundColor: \"#3e3e3e\"}}>\n              <Typography\n                variant=\"h6\"\n                align=\"left\"\n                className={classes.dangerZone}\n                gutterBottom>\n                Danger Zone\n              </Typography>\n              <Button\n                variant=\"outlined\"\n                onClick={this.handleDeleteModalOpen}\n                style={{\n                  backgroundColor: \"red\",\n                  color: \"white\",\n                  margin: \"12px\"\n                }}>\n                Delete Course\n              </Button>\n              <CourseModal\n                course={course}\n                open={this.state.open}\n                onClose={this.handleDeleteModalClose}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"flex-end\",\n                  margin: \"50px 0\"\n                }}\n              />\n            </Grid>\n          </Grid>\n        </main>\n      </form>\n    )\n  }\n}\n\nconst withGraphql = graphql(COURSE_UPDATE)(CourseSettings)\n\nexport default withStyles(styles)(withGraphql)\n"],"sourceRoot":""}